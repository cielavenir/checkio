def golf(b,t):
 l=range(len(b))
 for k in l:
  for y in l:
   for x in l:
    if x!=y and b[y][k]*b[k][x]:b[y][x]=min(b[y][x],b[y][k]+b[k][x])
 return sum(b[i][i]for i in l if b[0][i]<=t)

if __name__ == '__main__':
	assert golf([[0, 40, 0, 40, 0, 0],
				[40, 6, 0, 0, 40, 0],
				[0, 0, 3, 0, 28, 0],
				[40, 0, 0, 4, 40, 28],
				[0, 40, 28, 40, 1, 0],
				[0, 0, 0, 28, 0, 2]], 80), "Example"
	assert golf([[0, 40, 0, 40, 0, 0],
				[40, 6, 0, 0, 40, 0],
				[0, 0, 3, 0, 28, 0],
				[40, 0, 0, 4, 40, 28],
				[0, 40, 28, 40, 1, 0],
				[0, 0, 0, 28, 0, 2]], 40), "Hurry"
	assert golf([[1, 0, 40, 0, 40, 40, 0, 40, 0],
				[0, 1, 40, 0, 40, 0, 0, 0, 0],
				[40, 40, 1, 40, 0, 0, 0, 0, 0],
				[0, 0, 40, 1, 0, 89, 0, 0, 0],
				[40, 40, 0, 0, 1, 0, 40, 0, 0],
				[40, 0, 0, 89, 0, 1, 0, 0, 40],
				[0, 0, 0, 0, 40, 0, 1, 40, 0],
				[40, 0, 0, 0, 0, 0, 40, 1, 40],
				[0, 0, 0, 0, 0, 40, 0, 40, 1]], 40), "Grid"